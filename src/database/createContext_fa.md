# createContext

### `createContext(defaultValue: مقدار پیش فرض)`

::: rtl
`createContext` را بیرون از هر کامپوننتی صدا بزنید تا یک زمینه (context) ایجاد کنید.
:::

``` jsx
import { createContext } from 'react';

const ThemeContext = createContext('light');
```

::: rtl
### پارامترها

* `مقدار پیش فرض`: مقداریست که می‌خواهید زمینه داشته باشد، زمانی که هیچ ارائه دهنده‌ی زمینه‌ای (context provider) در درخت‌واره‌ی (tree) بالا دستی کامپوننتی که زمینه را می‌خواند، همخوان (matching) نیست. اگر هیچ مقدار پیش فرض بامعنی‌ای در نظر ندارید، از مقدار `null` استفاده کنید. مقدار پیش فرض به عنوان آخرین راه حل در نظر گرفته شده است. این مقدار ایستا (static) است و هرگز با زمان تغییر نخواهد کرد.

### خروجی

`createContext` یک شیء زمینه (context object) برمی‌گرداند.

شیء زمینه هیچ اطلاعاتی را در خودش نگهداری نمی‌کند. این شیء صرفا برای مشخص کردن زمینه‌ای که کامپوننت‌های دیگر ارائه می‌کنند یا می‌خوانند است. معمولا، شما از `SomeContext.Provider` در کامپوننت‌های بالا دستی استفاده می‌کنید تا مقدار زمینه را مشخص کنید، و `useContext(SomeContext)` را در کامپوننت‌های پایین دستی فراخوانی می‌کنید تا زمینه را بخوانید. شیء زمینه تعدادی ویژگی:

* `SomeContext.Provider` به شما امکان ارائه‌ی مقدار زمینه به کامپوننت‌ها را می‌دهد.

* `SomeContext.Consumer` یک راه جایگزین برای خواندن مقدار زمینه است که بسیار کمتر استفاده می شود.

***

### `SomeContext.Provider`

کامپوننت‌های خود را در یک ارائه دهنده‌ی زمینه بپیچید (wrap) تا مقدار این زمینه برای همه‌ی کامپوننت‌های داخلی ارائه شود:
:::

``` jsx
function App() {
  const [theme, setTheme] = useState('light');
  // ...
  return (
    <ThemeContext.Provider value={theme}>
      <Page />
    </ThemeContext.Provider>
  );
}
```

::: rtl
### ویژگی‌ها

* `value`: مقداری که می‌خواهید به همه‌ی کامپوننت‌هایی که زمینه‌ی داخل این ارائه دهنده را می‌خوانند، تحویل (pass) دهید، در هر عمقی که باشند. این مقدار می‌تواند هر جنسی داشته باشد. کامپوننتی که `useContext(SomeContext)` را فراخوانی می‌کند و داخل ارائه دهنده قرار دارد (در آن پیچیده شده است) مقدار `value` ای که مربوط به داخلی‌ترین ارائه دهنده‌ی بالا دستی اش است را دریافت می‌کند.

***

### `SomeContext.Consumer`

قبل از اینکه `useContext` به وجود آمد، راه قدیمی‌تری برای خواندن زمینه وجود داشت:
:::

``` jsx
function Button() {
  // 🟡 راه قدیمی (پیشنهاد نمی‌شود)
  return (
    <ThemeContext.Consumer>
      {theme => (
        <button className={theme} />
      )}
    </ThemeContext.Consumer>
  );
}
```

::: rtl
با اینکه این راه فدیمی همچنان کار می‌کند، اما کدهایی که به تازگی نوشته می‌شوند بهتر است زمینه را با استفاده از `useContext()` بخوانند:
:::

``` jsx
function Button() {
  // ✅ راه پیشنهادی
  const theme = useContext(ThemeContext);
  return <button className={theme} />;
}
```

::: rtl
### ویژگی‌ها

* `children`: یک تابع است. ری‌اکت تابعی که شما تحویل می‌دهید (در children قرار می‌دهید) را با مقدار قعلی زمینه (مشخص شده با همان الگوریتمی که `useContext()` استفاده می‌کند) فراخوانی می‌کند، و نتیجه‌ای که شما در این تابع خروجی می‌دهید را نمایش می‌دهد (render). ری‌اکت همچنین هر زمان که زمینه از طرف کامپوننت های والد (parent) تغییر می‌کند، این تابع را دوباره فراخوانی می‌کند و رابط کاربری (UI) را به روز رسانی (update) می‌کند.
:::
